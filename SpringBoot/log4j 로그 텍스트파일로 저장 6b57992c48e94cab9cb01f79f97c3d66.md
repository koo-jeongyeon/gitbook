# log4j 로그 텍스트파일로 저장

생성일: 2021년 12월 30일 오전 10:41

log4j.xml 설정에 추가 

```java
<appender name="rolling" class="org.apache.log4j.RollingFileAppender">
	<!-- 로그 파일 생성위치 -->
		<param name="file" value="D:/tomcatlogs/SimpleProjectLog.log" />
		<param name="Append" value="true" />
		<!-- 로그 파일 하나당 사이즈 5m -->
		<param name="MaxFileSize" value="5000kb" />
		<!-- 최대 생성 파일수 ( 50개가 넘으면 순차적으로 파일이 삭제됨 -->
		<param name="MaxBackupIndex" value="50" />
		<layout class="org.apache.log4j.PatternLayout">
			<!--<param name="ConversionPattern" value="%t> [%d{yyyy-MM-dd HH:mm:ss.SSS}] 
				%-5p %C{1}.%M(%F:%L) - %m%n"/> -->
			<param name="ConversionPattern"
				value="[%d{yyyy-MM-dd HH:mm:ss.SSS}] %-5p %C{1}.%M(%F:%L) - %m%n" />
		</layout>
		</appender>
```

로그네임을 지정해주던가, jdbc로그에 <appender-ref ref="rolling" />

를 추가해주면 txt파일에 저장됨

```java
<!-- Application Loggers -->
	<logger name="scron" additivity="false">
		<level value="debug" />
		<appender-ref ref="console" />
		<appender-ref ref="rolling" />
	</logger>

<!-- Query Loggers -->
	<logger name="jdbc.sqlonly" additivity="false">
		<level value="INFO" />
		<appender-ref ref="console-infolog" />
		<appender-ref ref="rolling" />
	</logger>
```

아래와같이 사용

**private** **static** **final** Logger ***logger*** = LoggerFactory.*getLogger*("scron");